using System.Text.RegularExpressions;
using Telegram.Bot.Types.Enums;

namespace Birthday.Telegram.Bot.Models;

/// <summary>
/// Static class with prebuild messages
/// </summary>
public static class Messages
{
    /// <summary>
    /// REgex spec symbols
    /// </summary>
    /// <returns></returns>
    private static Regex SpecialSymbols => new(@"[_*\[\]\(\)~`>#\+-=|{}.,!]", RegexOptions.Compiled);

    private static string ToMarkdownV2(string input) =>
        SpecialSymbols.Replace(input, "\\$&");

    /// <summary>
    /// Parse mode for all messages
    /// </summary>
    public static ParseMode ParseMode => ParseMode.MarkdownV2;

    public static string ChatNameForBirthday = "birthday_chat";
    public static string ChatNameForBirthdayMarkdown => ChatNameForBirthday.Replace("_", @"\_");

    /// <summary>
    /// Hello message
    /// </summary>
    /// <param name="userName">Message for whom</param>
    public static string HelloMessage(string userName) => @$"–ü—Ä–∏–≤–µ—Ç—Å—Ç–≤—É—é —Ç–µ–±—è, *{ToMarkdownV2(userName)}*\!üòé

–Ø –±–æ—Ç \- –ø–æ–º–æ—â–Ω–∏–∫ –ø–æ –æ—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏–∏ –ø–æ–∑–¥—Ä–∞–≤–ª–µ–Ω–∏–π\.
–ú–æ—è –∑–∞–¥–∞—á–∞ –æ—Ç—Å–ª–µ–∂–∏–≤–∞—Ç—å –¥–Ω–∏ —Ä–æ–∂–¥–µ–Ω–∏—è —É—á–∞—Å—Ç–Ω–∏–∫–æ–≤ —á–∞—Ç–∞\, –∏ –ø—Ä–∏–≥–ª–∞—à–∞—Ç—å –≤—Å–µ—Ö –∫—Ä–æ–º–µ –∏–º–µ–Ω–∏–Ω–Ω–∏–∫–∞ –≤ –æ—Ç–¥–µ–ª—å–Ω—ã–π —á–∞—Ç –¥–ª—è –æ–±—Å—É–∂–¥–µ–Ω–∏—è –ø–æ–¥–∞—Ä–∫–∞\.
–ê —Ç–∞–∫ –∂–µ –ø–æ–∑–¥—Ä–∞–≤–ª—è—Ç—å –∏–º–µ–Ω–∏–Ω–Ω–∏–∫–∞ –≤ –æ—Å–Ω–æ–≤–Ω–æ–º —á–∞—Ç–µ\, –¥–ª—è –∑–∞–ø—É—Å–∫–∞ –≤–æ–ª–Ω—ã –ø–æ–∑–¥—Ä–∞–≤–ª–µ–Ω–∏–π\!

–ß—Ç–æ–±—ã —è –Ω–∞—á–∞–ª —Ä–∞–±–æ—Ç–∞—Ç—å\, –º–Ω–µ –Ω—É–∂–Ω–∞ —Ç–≤–æ—è –ø–æ–º–æ—â—å\. 
–ê–ª–≥–æ—Ä–∏—Ç–º –Ω–µ —Å–ª–æ–∂–Ω—ã–π\, –Ω–æ –Ω—É–∂–Ω–æ —Å–¥–µ–ª–∞—Ç—å –≤—Å–µ –ø–æ –ø—É–Ω–∫—Ç–∞–º\.

‚û°Ô∏è –î–æ–±–∞–≤—å –º–µ–Ω—è –≤ –≤–∞—à –æ—Å–Ω–æ–≤–Ω–æ–π —á–∞—Ç\. –Ø –ø—Ä–∏—à–ª—é –ø—Ä–∏–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ–µ —Å–æ–æ–±—â–µ–Ω–∏–µ –≤ –∫–æ—Ç–æ—Ä–æ–º –±—É–¥–µ—Ç —Å—Å—ã–ª–æ–Ω—å–∫–∞\, –ø–æ –Ω–µ–π –¥–æ–ª–∂–Ω—ã –ø–µ—Ä–µ–π—Ç–∏ –≤—Å–µ —É—á–∞—Å—Ç–Ω–∏–∫–∏\, –∏ —à–µ–ø–Ω—É—Ç—å —Å–≤–æ–π –¥–∞—Ç—ã —Ä–æ–∂–¥–µ–Ω–∏—è\.
‚û°Ô∏è –°–æ–∑–¥–∞–π –æ—Ç–¥–µ–ª—å–Ω—ã–π —á–∞—Ç —Å –Ω–∞–∑–≤–∞–Ω–∏–µ–º ```{ToMarkdownV2(ChatNameForBirthdayMarkdown)}``` –∏ –¥–æ–±–∞–≤—å –º–µ–Ω—è —Ç—É–¥–∞\. –í –Ω–µ–≥–æ —è –±—É–¥—É –ø—Ä–∏–≥–ª–∞—à–∞—Ç—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π –¥–ª—è –æ–±—Å—É–∂–¥–µ–Ω–∏—è –ø—Ä–∞–∑–¥–Ω–∏–∫–∞\.
‚û°Ô∏è –ü–µ—Ä–µ—à–ª–∏ –≤ —ç—Ç–æ—Ç —á–∞—Ç –ª—é–±–æ–µ —Å–æ–æ–±—â–µ–Ω–∏–µ –∏–∑ –æ—Å–Ω–æ–≤–Ω–æ–≥–æ —á–∞—Ç–∞\. –≠—Ç–æ –Ω—É–∂–Ω–æ —á—Ç–æ–±—ã —Å–≤—è–∑–∞—Ç—å –µ–≥–æ —Å –æ—Å–Ω–æ–≤–Ω—ã–º\.

–ù–∞ —ç—Ç–æ–º –≤—Å–µ\!

–ü—Ä–∏–º–µ—á–∞–Ω–∏–µ\. –Ø –Ω–µ —á–∏—Ç–∞—é –≤–∞—à—É –ø–µ—Ä–µ–ø–∏—Å–∫—É –∏–∑ —á–∞—Ç–æ–≤\, –º–Ω–µ —ç—Ç–æ —Å–æ–≤–µ—Ä—à–µ–Ω–Ω–æ –Ω–µ –∏–Ω—Ç–µ—Ä–µ—Å–Ω–æ\. –î–ª—è —Ç–æ–≥–æ —á—Ç–æ–±—ã –Ω–∞—á–∞—Ç—å –æ–±—â–µ–Ω–∏–µ —Å–æ –º–Ω–æ–π –≤ —á–∞—Ç–µ –¥–ª—è —ç—Ç–æ–≥–æ –µ—Å—Ç—å —Å–ø–µ—Ü–∏–∞–ª—å–Ω—ã–µ –∫–æ–º–∞–Ω–¥—ã\.";

    /// <summary>
    /// –ü—Ä–∏–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ–µ —Å–æ–æ–±—â–µ–Ω–∏–µ –∫–æ–≥–¥–∞ –±–æ—Ç —Ö–æ—á–µ—Ç –ø–æ–ª—É—á–∏—Ç—å –¥–∞—Ç—É —Ä–æ–∂–¥–µ–Ω–∏—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
    /// </summary>
    /// <param name="userName">–ò–º—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è</param>
    /// <param name="fromChatName">–û—Ç–∫—É–¥–∞ –ø—Ä–∏—à–µ–ª –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å</param>
    /// <returns>–°–æ–æ–±—â–µ–Ω–∏–µ</returns>
    public static string MessageForGetBirthdayDate(string userName, string fromChatName) => @$"–ü—Ä–∏–≤–µ—Ç *{ToMarkdownV2(userName)}*\.
–ß—Ç–æ–±—ã –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏ —á–∞—Ç–∞ *{ToMarkdownV2(fromChatName)}* —Å–º–æ–≥–ª–∏ –ø–æ–∑–¥—Ä–∞–≤–ª—è—Ç—å —Ç–µ–±—è –º–Ω–µ –Ω—É–∂–Ω–æ —à–µ–ø–Ω—É—Ç—å –¥–∞—Ç—É —Ç–≤–æ–µ–≥–æ –¥–Ω—è —Ä–æ–∂–¥–µ–Ω–∏—è\.";

    /// <summary>
    /// –ü—Ä–∏–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ–µ —Å–æ–æ–±—â–µ–Ω–∏–µ –æ—Ç –±–æ—Ç–∞, –∫–æ–≥–¥–∞ –æ–Ω –≤—Ö–æ–¥–∏—Ç –≤ –≥–ª–∞–≤–Ω—ã–π —á–∞—Ç
    /// </summary>
    /// <param name="botName">–ù–∞–∑–≤–∞–Ω–∏–µ –±–æ—Ç–∞</param>
    /// <param name="mainChatId">–ò–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä –≥–ª–∞–≤–Ω–æ–≥–æ —á–∞—Ç–∞</param>
    /// <returns>–ü—Ä–∏–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ–µ —Å–æ–æ–±—â–µ–Ω–∏–µ</returns>
    public static string HelloMessageFromBotToMainChat(string botName, string mainChatId) => @$"–ü—Ä–∏–≤–µ—Ç –≤—Å–µ–º\! 
–Ø –í–∞—à –ø–æ–º–æ—â–Ω–∏–∫ –¥–ª—è –æ—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏—è –¥–Ω–µ–π —Ä–æ–∂–¥–µ–Ω–∏–π\.
–ß—Ç–æ–±—ã –Ω–∞—á–∞—Ç—å –≤–∞–º –ø–æ–º–æ–≥–∞—Ç—å –º–Ω–µ –Ω—É–∂–Ω–∞ –Ω–µ–∫–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è
–î–ª—è —ç—Ç–æ–≥–æ\, –ø–æ–∂–∞–ª—É–π—Å—Ç–∞\, –ø–µ—Ä–µ–π–¥–∏—Ç–µ –ø–æ [—ç—Ç–æ–π](https://t.me/{botName}?start={mainChatId}) —Å—Å—ã–ª–æ—á–∫–µ –∏ –æ—Ç–≤–µ—Ç—å—Ç–µ –Ω–∞ –ø–∞—Ä–æ—á–∫—É –≤–æ–ø—Ä–æ—Å–æ–≤

–Ø –Ω–µ —á–∏—Ç–∞—é –≤–∞—à–∏ –ø–µ—Ä–µ–ø–∏—Å–∫–∏, –º–Ω–µ —ç—Ç–æ —Å–æ–≤–µ—Ä—à–µ–Ω–Ω–æ –Ω–µ –Ω—É–∂–Ω–æ\.";

    /// <summary>
    /// –ü—Ä–∏–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ–µ —Å–æ–æ–±—â–µ–Ω–∏–µ –æ—Ç –±–æ—Ç–∞, –∫–æ–≥–¥–∞ –Ω–æ–≤—ã–π –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –≤—Ö–æ–¥–∏—Ç –≤ —á–∞—Ç
    /// </summary>
    /// <param name="newUserName">–ò–º—è –Ω–æ–≤–æ–≥–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è —á–∞—Ç–∞</param>
    /// <param name="botName">–ù–∞–∑–≤–∞–Ω–∏–µ –±–æ—Ç–∞</param>
    /// <param name="mainChatId">–ò–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä –≥–ª–∞–≤–Ω–æ–≥–æ —á–∞—Ç–∞</param>
    /// <returns>–ü—Ä–∏–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ–µ —Å–æ–æ–±—â–µ–Ω–∏–µ</returns>
    public static string HelloMessageForNewChatUser(string newUserName, string botName, string mainChatId) => @$"–ü—Ä–∏–≤–µ—Ç *{newUserName}*\! 
–¢–≤–æ–∏ –¥—Ä—É–∑—å—è –ø–æ–ø—Ä–æ—Å–∏–ª–∏ –º–µ–Ω—è —Å–ª–µ–¥–∏—Ç—å –∑–∞ —Ç–µ–º, —É –∫–æ–≥–æ –∫–æ–≥–¥–∞ –¥–µ–Ω—å —Ä–æ–∂–¥–µ–Ω–∏–µ\.
–ß—Ç–æ–±—ã —è —Å–º–æ–≥ –æ–ø–æ–≤–µ—â–∞—Ç—å –∏ –æ —Ç–≤–æ–µ–º –¥–Ω–µ —Ä–æ–∂–¥–µ–Ω–∏—è –ø–µ—Ä–µ–π–¥–∏\, –ø–æ–∂–∞–ª—É–π—Å—Ç–∞\, –ø–æ [—ç—Ç–æ–π](https://t.me/{botName}?start={mainChatId}) —Å—Å—ã–ª–æ—á–∫–µ –∏ –æ—Ç–≤–µ—Ç—å –Ω–∞ –ø–∞—Ä–æ—á–∫—É –≤–æ–ø—Ä–æ—Å–æ–≤";

    public static class ErrorMessages
    {
        public static string MessageCouldNotRecognized => @"–Ø –Ω–µ —Ä–∞—Å–ø–æ–∑–Ω–∞–ª –≤—ã—à–µ —Å–æ–æ–±—â–µ–Ω–∏–µ\. –í–≤–µ–¥–∏—Ç–µ /start \.";

        public static string EmptyMessage => @"–ü–æ–ª—É—á–µ–Ω–Ω–æ–µ —Å–æ–æ–±—â–µ–Ω–∏–µ –ø—É—Å—Ç–æ–µ\.\.\. –Ø –Ω–µ –ø–æ–Ω–∏–º–∞—é —á—Ç–æ –≤—ã —Ö–æ—Ç–∏—Ç–µ –º–Ω–µ —Å–∫–∞–∑–∞—Ç—å\.";

        public static string ServerError => @"–û—à–∏–±–∫–∞ —Å–µ—Ä–≤–µ—Ä–∞\.";

        public static string UserNotInChat => @"–ò–∑–≤–∏–Ω–∏—Ç–µ\, –Ω–æ –≤—ã –Ω–µ —Å–æ—Å—Ç–æ–∏—Ç–µ –≤ —Ç–æ–º —á–∞—Ç–µ\, –æ—Ç–∫—É–¥–∞ –ø–æ–ª—É—á–∏–ª–∏ —Å—Å—ã–ª–∫—É\. –î–ª—è –ø—Ä–æ–¥–æ–∂–¥–µ–Ω–∏—è –Ω–∞–∂–º–∏—Ç–µ /start \.";
    }
}
